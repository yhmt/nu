// Nu 0.0.3 Copyright (C) 2016 @yuya, MIT License.
// See https://github.com/yhmt/nu
!function(a,b,c){function d(){try{return(new Image).doScroll(),b.fireEvent("DOMContentLoaded",b.createEventObject())}catch(a){setTimeout(d,64)}}function e(a){return null!=a&&a===a.window}function f(a){return null!=a&&"[object HTMLDocument]"===P.call(a)}function g(a){return!(!a||1!==a.nodeType)}function h(a){return Array.isArray(a)}function i(a){return a===Object(a)}function j(a){return null!=a&&i(a)&&!e(a)&&a.__proto__===Object.prototype}function k(a){return"[object Function]"===P.call(a)}function l(a){return"[object String]"===P.call(a)}function m(a){return"[object Number]"===P.call(a)}function n(a){return m(a)&&a!==+a}function o(a){return a===!0||a===!1||"[object Boolean]"===P.call(a)}function p(a){return null===a}function q(a){return void 0===a}function r(a){return"[object Date]"===P.call(a)}function s(a){return"[object RegExp]"===P.call(a)}function t(a){var b=P.call(a);return"[object NodeList]"===b||"[object HTMLCollection]"===b}function u(a){return N.call(a)}function v(a,b){var c,d,e,f=0;if(h(a))for(c=a.length;c;++f,--c)b(a[f],f);else for(d=Object.keys(a),c=d.length;c;++f,--c)e=d[f],b(e,a[e])}function w(a,b){var c,d,e,f=0,g={};if(h(a)){for(c=a.length;c;++f,--c)if(b(a[f]),f)return a[f]}else if(j(a))for(d=Object.keys(a),c=d.length;c;++f,--c)if(e=d[f],b(e,a[e],f))return g[e]=a[e],g;return null}function x(a){var b=[];return v(a,function(a){b.push("on"+a)}),b}function y(a){var b;return"defaultPrevented"in a||(b=a.preventDefault,a.defaultPrevented=!1,a.preventDefault=function(){this.defaultPrevented=!0,b.call(this)}),a}function z(a){var c;return G.createEvent?(c=b.createEvent("Event"),c.initEvent(a,!0,!0,null,null,null,null,null,null,null,null,null,null,null,null)):c=b.createEventObject(),c.isDefaultPrevented=function(){return this.defaultPrevented},y(c)}function A(a,b){return Q.call(a,b)}function B(a){var b={},c=O.apply(L,N.call(arguments,1));return v(c,function(c){c in a&&(b[c]=a[c])}),console.log(b),b}function C(a,b){if(null==a)return void 0;var c=a[b];return D.isFunction(c)?c.call(a):c}b.getElementsByClassName||(b.getElementsByClassName=function(a){return b.querySelectorAll("."+a)}),Date.now||(Date.now=function(){return+new Date}),Object.keys||(Object.keys=function(a){var b,c=[],d=0;for(b in a)a.hasOwnProperty(b)&&(c[d++]=b);return c}),Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)}),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=[].slice,c=b.call(arguments,1),d=this,e=function(){},f=function(){return d.apply(this instanceof e?this:a||window,c.concat(b.call(arguments)))};return e.prototype=this.prototype,f.prototype=new e,f});var D,E,F=b.createElement("div"),G={touchEvent:"ontouchstart"in a,addEventListener:"addEventListener"in a,removeEventListener:"removeEventListener"in a,orientationchange:"onorientationchange"in a,pageShow:"onpageshow"in a,createEvent:"createEvent"in b,classList:!!F.classList},H=function(){var a=navigator.userAgent.toLowerCase(),b=a.match(/(?:iphone\sos|ip[oa]d.*os)\s([\d_]+)/),c=a.match(/(android)\s+([\d.]+)/),d=!!b,e=!!c,f=/windows/.test(a),g=/macintosh/.test(a),h=function(){var b=/(webkit)[ \/]([\w.]+)/.exec(a)||/(firefox)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||[];return{name:b[1],version:parseFloat(b[2])}}(),i=d||e?"mobile":"desktop",j=function(){return d?"ios":e?"android":g?"mac":f?"windows":"unknown"}(),k=function(){return G.touchEvent&&"desktop"!==i?parseFloat((b||c).pop().split(/\D/).join(".")):null}();return{platform:j,device:i,browser:h.name,version:{os:k,browser:h.version},oldIE:"msie"===h.name&&h.version<9,oldAndroid:e&&4>k}}(),I={touchstart:G.touchEvent?"touchstart":"mousedown",touchmove:G.touchEvent?"touchmove":"mousemove",touchend:G.touchEvent?"touchend":"mouseup",touchcancel:G.touchEvent?"touchcancel":"mouseleave",orientationchange:G.orientationchange?"orientationchange":"resize",pageshow:G.pageShow?"pageshow":this.domcontentloaded,domcontentloaded:H.oldIE?d():"DOMContentLoaded"},J=G.addEventListener?"addEventListener":"attachEvent",K=G.removeEventListener?"removeEventListener":"detachEvent",L=Array.prototype,M=Object.prototype,N=(Function.prototype,L.push,L.slice),O=L.concat,P=M.toString,Q=M.hasOwnProperty,R=/complete|loaded|interactive/,S=/^(.+[\#\.\s\[\*>:,]|[\[:])/;D=function(a,c){var d,e=null;if("string"==typeof a)c=c||b,e=S.test(a)?c.querySelectorAll(a):"#"===a[0]?[c.getElementById(a.substring(1,a.length))]:"."===a[0]?c.getElementsByClassName(a.substring(1,a.length)):c.getElementsByTagName(a);else if(a)if(1===a.nodeType||a===window||a===b||a===b.body)e=[a];else if(t(a)||h(a)&&a.length&&a[0].nodeType)e=a;else{if(k(a))return d=a,E.ready(d);if(a instanceof D)return D}return new D.fn.init(e||[],a)},D.fn=D.prototype={constructor:D,init:function(a,b){var c=0,d=this.length=a.length;for(this.selector=b,this._data={},this._delegates={};d;++c,--d)this[c]=a[c];return this},ready:function(a){var c=I.domcontentloaded+" "+I.pageshow;return R.test(b.readyState)?a():this.on(c,function(){a()}),this},each:function(a){for(var b=0,c=this.length;c;++b,--c)a.call(this[b],b);return this},match:function(a){for(var b=this.length;b--;)if(a.call(this[b],b))return this[b];return null},index:function(a){var b=-1;return this.match(function(c){return this===a?(b=c,!0):!1}),b},get:function(a){return null==a?u(this):0>a?this[this.length+a]:this[a]},on:function(a,b,c,d){function e(a,c){c=c||b,h.each(function(){this[J](a,c)})}function f(a){var d,f,g,i,j;d=h._delegates[a],f={selector:b,callback:c},d||(d=h._delegates[a]={listeners:[],handler:function(a){g=a.target,i=arguments,w(d.listeners,function(a){return j=D(a.selector).match(function(){return this.contains(g)}),j&&(k(a.callback)?a.callback.apply(j,i):a.callback.handleEvent&&a.callback.handleEvent.apply(j,i)),j})}},e(a,d.handler)),d.listeners.push(f)}var g,h=this;return l(a)&&(a=G.addEventListener?a.split(" "):x(a.split(" "))),g=l(b)?f:e,v(a,function(a){g(a)}),this},one:function(a,b,c){return this.on(a,b,c,1)},off:function(a,b,c){function d(a,c){c=c||b,g.each(function(){this[K](a,c)})}function e(a){var e,f;e=g._delegates[a],f=e.listeners,f&&f.length&&(q(c)?v(f,function(a,c){a.selector===b&&f.splice(c,1)}):w(f,function(a,d){return a.selector===b&&a.callback===c?(a.splice(d,1),!0):!1}),f.length||(d(a,e.handler),delete g._delegates[a]))}var f,g=this;return l(a)&&(a=G.removeEventListener?a.split(" "):x(a.split(" "))),f=l(b)?e:d,v(a,function(a){f(a)}),this},trigger:function(){var a,b,c=u(arguments);return l(c[0])?(a=c.shift(),b=z(a)):b=c.shift(),c.length&&(b._data=c),G.createEvent&&this.each(function(){this.dispatchEvent(b)}),this},hasClass:G.classList?function(a){return this.match(function(){return this.classList.contains(a)})}:function(a){return a=" "+a,this.match(function(){return(" "+this.className).indexOf(a)>-1})},addClass:G.classList?function(a){return this.each(function(){this.classList.add(a)})}:function(a){return this.each(function(){D(this).hasClass(a)||(this.className+=(this.className?" ":"")+a)})},removeClass:G.classList?function(a){return this.each(function(){this.classList.remove(a)})}:function(a){return this.each(function(){this.className=this.className.replace(new RegExp("(\\s|^)"+a+"(\\s|$)")," ").replace(/^s+|\s+$/g,"")})},toggleClass:function(a){var b;return this.each(function(){b=D(this),b.hasClass(a)?b.removeClass(a):b.addClass(a)}),this},find:function(a){var b;return this.each(function(){b=u(O(D(a,this)))}),D(b)},append:function(a){var b,c=this.length>1;return this.each(l(a)?function(){this.insertAdjacentHTML("beforeend",a)}:function(){b=this,g(a)?this.appendChild(c?a.cloneNode(!0):a):a instanceof D&&a.each(function(){b.appendChild(this)})})},prepend:function(a){var b,c=this.length>1;return this.each(l(a)?function(){this.insertAdjacentHTML("afterbegin",a)}:function(){b=this,g(a)?this.insertBefore(c?a.cloneNode(!0):a,this.firstChild):a instanceof D&&a.each(function(){b.insertBefore(this,b.firstChild)})})},closest:function(a){var b,c=[],d=u(D(a));return this.each(function(){for(b=this;b;){if(d.indexOf(b)>-1){-1===c.indexOf(b)&&c.push(b);break}b=b.parentNode}}),D(c)},attr:function(a,b){if(j(a))v(a,function(a,b){return this.each(function(){this.setAttribute(a,b)})});else{if(a&&b)return this.each(function(){this.setAttribute(a,b)});a&&this[0].getAttribute(a)}return this},val:function(a){return a?this.each(function(){this.value=a}):this[0].value},remove:function(){return this.each(function(){this.parentNode.removeChild(this)})},empty:function(){return this.each(function(){for(;this.firstChild;)this.removeChild(this.firstChild)})},html:function(a){return null==a?this[0].innerHTML:(g(a)?this.empty().append(a):this.each(function(){this.empty(),this.insertAdjacentHTML("afterbegin",a)}),this)},show:function(a){return this.each(function(){this.style.display="block"})},hide:function(a){return this.each(function(){this.style.display="none"})},toggle:function(){return this.each(function(){/dipslay:\s?none/.test(this.style)?this.style.display="block":this.style.display="none"})}},D.fn.init.prototype=D.fn,D.extend=D.fn.extend=function(){var a,b,c,d,e,f=u(arguments),g=f[0]||{},l=1,m=f.length,n=!1;for(o(g)&&(n=g,g=f[1]||{},++l),i(g)||k(g)||(g={}),m===l&&(g=this,--l);m;++l,--m)d=f[l],null!=d&&v(d,function(f,i){a=g[f],c=d[f],g!==c&&(b=h(c),n&&c&&(j(c)||b)?(b?(b=!1,e=a&&h(a)?a:[]):e=a&&j(a)?a:{},g[f]=D.extend(n,e,c)):q(c)||(g[f]=c))});return g},E=D(b),D.isWindow=e,D.isDocument=f,D.isElement=g,D.isArray=h,D.isObject=i,D.isPlainObject=j,D.isFunction=k,D.isString=l,D.isNumber=m,D.isNaN=n,D.isBoolean=o,D.isNull=p,D.isUndefined=q,D.isDate=r,D.isRegExp=s,D.isNodeList=t,D.toArray=u,D.support=G,D.userAgent=H,D.events=I,D.each=v,D.match=w,D.createEvent=z,D.has=A,D.pick=B,D.result=C,a.Nu=a.nu=D}(this,this.document);